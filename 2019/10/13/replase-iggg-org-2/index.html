<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta name="theme-color" content="#1b7aca">
  <link rel="icon" href="/images/IGGG_l.png">
  <meta name="application-name" content="群馬大学電子計算機研究会 IGGG">
  <meta name="msapplication-TileColor" content="#1b7aca">
  <meta name="msapplication-square70x70logo" content="/images/IGGG_l.png">
  <meta name="msapplication-square150x150logo" content="/images/IGGG_l.png">
  <meta name="msapplication-wide310x150logo" content="/images/IGGG_l.png">
  <meta name="msapplication-square310x310logo" content="/images/IGGG_l.png">
  <meta name="msapplication-notification" content="frequency=30; polling-uri=/atom.xml">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" href="/images/IGGG_l.png">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-startup-image" href="/images/IGGG_l.png">

  
  <title>iggg.org を移行する その２ | 群馬大学電子計算機研究会 IGGG</title>
  <meta name="author" content="IGGG">
  
  <meta name="description" content="これの続きです。

iggg.org を移行する｜群馬大学電子計算機研究会 IGGG

半年前…やりきりました。実際に iggg.org はすでに新しくなっており、IGGG/new.iggg.org というリポジトリで動いてます。

前回からの残タスクやったのはこれ

NEWSの記事の細かい修正
w">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="iggg.org を移行する その２">
  <meta property="og:site_name" content="群馬大学電子計算機研究会 IGGG">

  
    <meta property="og:image" content="/images/replace-iggg-org/new-iggg-org.jpg">
  

  <link rel="alternate" href="/atom.xml" title="群馬大学電子計算機研究会 IGGG" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  
    <link href="/css/animate.css" rel="stylesheet">
  
  
    <script src="/js/jquery-2.0.3.min.js"></script>
  
</head>
</html>

<body>
<!--[if lt IE9]>
<script>
alert("Please Update Your IE \n请升级您的IE浏览器");
</script>
< ![endif]-->
  <header id="header" class="header header--fixed hide-from-print animated slideInDown"><div class="alignleft backtohome">
  <a href="/">
    <img id="icon-photo-small" class="personal-photo  animated rotateIn" src="/images/IGGG_l.png" alt="IGGG">
  </a>
  <h1 id="title-mini" class=""><a href="/">群馬大学電子計算機研究会 IGGG</a></h1>
</div>
<a target="_blank" id="mini-toggle" class="more icon alignright"></a>
<nav id="main-nav" class="alignright animated slideInRight">

    
    
      <a target="_blank" class="icon twitter" href="http://twitter.com/IGGGorg"></a>
    
    
    
    
      <a target="_blank" class="icon github" href="http://github.com/IGGG"></a>
    
    
    
    
    
    
    
  <div class="clearfix"></div>
</nav>

</header>
  <aside id="sidebar" class="alignleft animated slideInLeft"><div class="personal-info">
  <figure>
    
    <div  class="backtohome">
      <a href="/">
        <img id="icon-photo-normal" class="personal-photo animated rotateIn" src="/images/IGGG_l.png" alt="IGGG">
      </a>
    </div>
    
    <figcaption>
      <h3 class=>IGGG</h3>
      <p>Information technology researching society</p><p> of the Gunmer,</p><p> by the Gunmer,</p><p> for the Gunmer</p>
    </figcaption>
  </figure>
  <section class="social">
    
    
      <a target="_blank" class="icon twitter depth" href="http://twitter.com/IGGGorg"></a>
    
    
    
    
      <a target="_blank" class="icon github depth" href="http://github.com/IGGG"></a>
    
    
    
    
    
    
    
  </section>
</div>
<div class="theme-info">
  <a target="_blank" href="https://github.com/heruoxin/hexo-persona-color" class="html5"> Persona Color Theme</a> 
  &copy; - 2019 IGGG
  
</div>
</aside>
  <div id="content" class="inner">
    <p id="header-fix"></p>
    <div id="main-col" class="alignright"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon depth"></div>
        <time class="depth" datetime="2019-10-13T11:00:00.000Z"><a href="#">2019-10-13</a></time>
      
      
  
    <h1 class="depth title">iggg.org を移行する その２</h1>
  

    </header>
    <div class="entry depth">
      
        <p>これの続きです。</p>
<ul>
<li><a href="/2018/12/21/replace-iggg-org">iggg.org を移行する｜群馬大学電子計算機研究会 IGGG</a></li>
</ul>
<p>半年前…やりきりました。<br>実際に <a href="https://www.iggg.org" target="_blank" rel="noopener">iggg.org</a> はすでに新しくなっており、<a href="https://IGGG/new.iggg.org" target="_blank" rel="noopener">IGGG/new.iggg.org</a> というリポジトリで動いてます。</p>
<p><img src="/images/replace-iggg-org/new-iggg-org.jpg" alt></p>
<h2 id="前回からの残タスク"><a href="#前回からの残タスク" class="headerlink" title="前回からの残タスク"></a>前回からの残タスク</h2><p>やったのはこれ</p>
<ol>
<li>NEWSの記事の細かい修正</li>
<li>wiki の移行</li>
<li>コミットから自動生成</li>
<li>ドメインを iggg.org にする</li>
</ol>
<h2 id="1-NEWSの記事の細かい修正"><a href="#1-NEWSの記事の細かい修正" class="headerlink" title="1. NEWSの記事の細かい修正"></a>1. NEWSの記事の細かい修正</h2><p>鬼門その１。<br>いくつか古い記法が残っていました。</p>
<h3 id="埋め込み系"><a href="#埋め込み系" class="headerlink" title="埋め込み系"></a>埋め込み系</h3><p>まずは埋め込み系:</p>
<ul>
<li><a href="https://github.com/IGGG/new.iggg.org/commit/6fa930fcf125c3d370921bc985c8de72a07f080f" target="_blank" rel="noopener">スライド の埋め込み</a> (SlideShare)</li>
<li><a href="https://github.com/IGGG/new.iggg.org/commit/6e5552b94ce77eb81e90d0d9d277ce1c60e77ec2" target="_blank" rel="noopener">Twitter と YouTube の埋め込み</a></li>
</ul>
<p>ええ、この辺りは機械的にやりようがないので。。。</p>
<ol>
<li>問題の箇所がどこか grep</li>
<li>対応する旧ページを見に行く</li>
<li>Embed 記法を書き換える</li>
</ol>
<p>愚直です（たいした数がないのでいいんですけど）。</p>
<h3 id="画像"><a href="#画像" class="headerlink" title="画像"></a>画像</h3><p>そして次は画像。<br>記法の変換は大体できていたのが、サイズがめちゃくちゃデカイので <a href="https://github.com/IGGG/new.iggg.org/commit/e271fd2510d3e49082e60ada56eca556a143f58e" target="_blank" rel="noopener">Hugo のショートコードを設定して直した</a>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;&#123; $src := .Get "src" &#125;&#125;</span><br><span class="line">&#123;&#123; $scale := float (default "1" (.Get "scale" )) &#125;&#125;</span><br><span class="line">&#123;&#123; $title := .Get "title" &#125;&#125;</span><br><span class="line">&#123;&#123; $config := imageConfig (printf "/static/%s" $src) &#125;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">figure</span> <span class="attr">style</span>=<span class="string">"margin: 1em"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; .Site.BaseURL | absLangURL &#125;&#125;&#123;&#123;$src&#125;&#125;"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">style</span>=<span class="string">"max-width: &#123;&#123;mul $config.Width $scale&#125;&#125;px"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">width</span>=<span class="string">"100%"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">alt</span>=<span class="string">"&#123;&#123;$title&#125;&#125;"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">title</span>=<span class="string">"&#123;&#123;$title&#125;&#125;"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span>&#123;&#123;$title&#125;&#125;<span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>これを <code>layouts/shortcodes/img.html</code> に保存し、<code>{&lt; img src=&quot;/path/to/image&quot; scale=&quot;0.2&quot; title=&quot;タイトル&quot; &gt;}}</code> と書くことでサイズを指定したり、正しいパスに変換してくれたりしてくれる。<br>完璧だ。</p>
<h3 id="alias"><a href="#alias" class="headerlink" title="alias"></a>alias</h3><p>旧ページと新ページでページの URL が変わってしまう。<br>旧はページのタイトルや設定した URL になってるのだが、対して新は日付の URL。<br>さて、どうするか。<br>alias の設定自体は Hugo のフロントマターで指定できます:</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: "本会の活動拠点が決定しました！"</span><br><span class="line">date: 2014-06-16</span><br><span class="line">aliases:</span><br><span class="line"><span class="bullet">- </span>/news/base-was-decided</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section">## 場所は…？</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>ではどうやって元の URL と新しい URL を対応させるか。<br><strong>根性です。</strong><br><a href="https://github.com/IGGG/new.iggg.org/commit/20016f3b0ce3c7055a6349a57b8a620fd1ba94a0" target="_blank" rel="noopener">根性しました</a>。</p>
<p><img src="/images/replace-iggg-org/tesagyo.jpg" alt="根性の様子"></p>
<h2 id="2-wiki-の移行"><a href="#2-wiki-の移行" class="headerlink" title="2. wiki の移行"></a>2. wiki の移行</h2><p>鬼門その２。<br>静的サイトはキッツイので代替の要件から考えた。</p>
<ul>
<li>ページは公開されていい</li>
<li>ユーザー登録は(多少)クローズド</li>
<li>マークダウンか何かでインポートできる</li>
</ul>
<p>以上を踏まえた結果 Scrapbox.io にしました:</p>
<ul>
<li><a href="https://scrapbox.io/iggg/" target="_blank" rel="noopener">IGGG - Scrapbox</a></li>
</ul>
<p>で、以降手順はこんな感じ</p>
<ol>
<li>PukiWiki のデータ全部抜く</li>
<li>PukiWiki から MD に変換</li>
<li>MD 内の wiki へのリンクを Scrapbox に差し替え</li>
<li>画像も Scrapbox にいい感じに</li>
<li>MD を Scrapbox にインポート</li>
</ol>
<h3 id="PukiWiki-のデータ全部抜く"><a href="#PukiWiki-のデータ全部抜く" class="headerlink" title="PukiWiki のデータ全部抜く"></a>PukiWiki のデータ全部抜く</h3><p>自分でセットアップしてないので、まずは PukiWiki のデータを探した:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls /srv/http/wiki/wiki-data/wiki/ | head</span><br><span class="line">32303137E5B9B4E5BAA620E381A1E381B3E381A3E5AD90E5A4A7E5ADA6.txt</span><br><span class="line">32303138E5B9B4E5BAA620E381A1E381B3E381A3E5AD90E5A4A7E5ADA6.txt</span><br><span class="line">32E3818BE38289E5A78BE381BEE3828BE695B4E695B0E58897.txt</span><br><span class="line">3A526563656E7444656C65746564.txt</span><br><span class="line">3A636F6E6669672F4261644265686176696F72.txt</span><br><span class="line">3A636F6E6669672F617574682F6F70656E69642F6D697869.txt</span><br><span class="line">3A636F6E6669672F6931386E2F746578742F6A615F4A50.txt</span><br><span class="line">3A636F6E6669672F706C7567696E2F6174746163682F6D696D652D74797065.txt</span><br><span class="line">3A636F6E6669672F706C7567696E2F63686172742F64656661756C74.txt</span><br><span class="line">3A636F6E6669672F706C7567696E2F72656665726572.txt</span><br></pre></td></tr></table></figure>

<p>発見。ファイル名はどうやら16進数でエンコードされたURL(タイトル)らしい。<br>Ruby で適当にデコードしてみた:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ pwd</span><br><span class="line">/srv/http/wiki/wiki-data/wiki</span><br><span class="line">$ find . -name &quot;*.txt&quot; | xargs -INAME ruby -e &apos;puts [ARGV[0].delete(&quot;./&quot;).delete(&quot;.txt&quot;)].pack(&quot;H*&quot;)&apos; NAME</span><br><span class="line">MenuBar</span><br><span class="line">群桐祭 2015</span><br><span class="line">Ren&apos;Pyで遊ぶ(その2)</span><br><span class="line">Help/Plugin/D</span><br><span class="line">Ziyuu</span><br><span class="line">:config/plugin/attach/mime-type</span><br><span class="line">C勉強会2015</span><br><span class="line">ジャンク祭り 2017</span><br><span class="line">ETロボコン2015</span><br><span class="line">arthur63</span><br><span class="line">メンバー会議 20160121</span><br><span class="line">atpons</span><br><span class="line">UML勉強会2018</span><br><span class="line">FrontPage</span><br><span class="line">IGGG Meetup 2016 Winter</span><br><span class="line">CTFの大会</span><br><span class="line">コアメンバー会議 20150327</span><br><span class="line">ジャンク祭り 20150618</span><br><span class="line">ﾄｷｵﾔﾏｸﾞﾁ</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>謎は解けたので後は固めて scp するだけ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># これは SSH 先</span><br><span class="line">$ sudo tar czvf wiki-data.tar.gz /srv/http/wiki/wiki-data/wiki</span><br><span class="line">...</span><br><span class="line">$ ls -lah wiki-data.tar.gz</span><br><span class="line">-rw-r--r-- 1 root root 249K  9月 30 18:23 wiki-data.tar.gz</span><br><span class="line"></span><br><span class="line"># これはローカル</span><br><span class="line">$ scp hoge@fuga:/path/to/wiki-data.tar.gz .</span><br><span class="line">$ tar xzvf wiki-data.tar.gz</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="PukiWiki-から-MD-に変換"><a href="#PukiWiki-から-MD-に変換" class="headerlink" title="PukiWiki から MD に変換"></a>PukiWiki から MD に変換</h3><p>魔法の sed 芸した:</p>
<ul>
<li><a href="https://qiita.com/yuki-takei/items/152e20f4421333ae8fd9" target="_blank" rel="noopener">PukiWiki の文書を Markdown に変換するワンライナー(一部 crowi-plus 仕様) - Qiita</a></li>
</ul>
<p>とはいえいくつか漏れがある:</p>
<ul>
<li><code>-hoge</code> みたいな h1 要素があり、スペースが無い</li>
<li><code>#contents</code> などもともとマジックワードのようなのがある</li>
<li>画像の形式が変</li>
<li><code>[[xxx:yyy]]</code> 形式のリンク</li>
</ul>
<p>どうしようもないので手動で。。。<br>後、メタっぽいページはいらないので削除した(e.g. <code>Help</code>)。</p>
<p>後、タイトルを Ruby 芸:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ls | grep <span class="string">'.txt'</span> | xargs -IORIG bash -c <span class="string">'ruby -e "puts [ARGV[0].delete(%!.txt!)].pack(%!H*!).gsub(?\s, ?_)" ORIG | xargs -INEW echo mv ORIG NEW.md'</span></span><br></pre></td></tr></table></figure>

<p>これでも漏れがあるので手動で直す。。。(空白とか)</p>
<h3 id="MD-内の-wiki-へのリンクを-Scrapbox-に差し替え"><a href="#MD-内の-wiki-へのリンクを-Scrapbox-に差し替え" class="headerlink" title="MD 内の wiki へのリンクを Scrapbox に差し替え"></a>MD 内の wiki へのリンクを Scrapbox に差し替え</h3><p>参照:</p>
<ul>
<li><a href="https://scrapbox.io/help-jp/ページをリンクする" target="_blank" rel="noopener">ページをリンクする - Scrapbox ヘルプ</a></li>
</ul>
<p>タイトルと同じならこの記法に変換。<br>それ以外は普通のリンクに。</p>
<p><strong>ほぼ手作業で</strong>。</p>
<h3 id="画像も-Scrapbox-にいい感じに"><a href="#画像も-Scrapbox-にいい感じに" class="headerlink" title="画像も Scrapbox にいい感じに"></a>画像も Scrapbox にいい感じに</h3><p>まず画像を持ってくる:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd /srv/http/wiki/wiki-data/attach</span><br><span class="line">$ ls | grep -v &apos;.log&apos; | xargs file | grep PNG</span><br><span class="line">32E3818BE38289E5A78BE381BEE3828BE695B4E695B0E58897_696D61676530312E706E67:                                              PNG image data, 225 x 31, 8-bit grayscale, non-interlaced</span><br><span class="line">32E3818BE38289E5A78BE381BEE3828BE695B4E695B0E58897_696D61676530322E706E67:                                              PNG image data, 225 x 31, 8-bit grayscale, non-interlaced</span><br><span class="line">427575_735F646F742E706E67:           PNG image data, 48 x 48, 8-bit/color RGBA, non-interlaced</span><br><span class="line">457863656CE381A7E6A99FE6A2B0E5ADA6E7BF9228E69C80E8BF91E5828DE6B39529E38284E381A3E381A6E381BFE3828B_696D6730312E706E67:  PNG image data, 1462 x 1482, 8-bit/color RGBA, non-interlaced</span><br><span class="line">457863656CE381A7E6A99FE6A2B0E5ADA6E7BF9228E69C80E8BF91E5828DE6B39529E38284E381A3E381A6E381BFE3828B_696D6730322E706E67:  PNG image data, 1456 x 1484, 8-bit/color RGBA, non-interlaced</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>やり方は <code>*.txt</code> と同じ(割愛)。<br>それを同じようにデコード(これは名前を出してみてるだけだけど):</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ls | xargs -I&#123;&#125; ruby -e &apos;puts ARGV[0].split(?_).map&#123;|x| [x].pack(&quot;H*&quot;)&#125;.flatten.join(?/)&apos; &#123;&#125;</span><br><span class="line">2から始まる整数列/image01.png</span><br><span class="line">2から始まる整数列/image02.png</span><br><span class="line">Buu/s_dot.png</span><br><span class="line">Excelで機械学習(最近傍法)やってみる/img01.png</span><br><span class="line">Excelで機械学習(最近傍法)やってみる/img02.png</span><br><span class="line">Excelで機械学習(最近傍法)やってみる/img03.png</span><br><span class="line">Excelで機械学習(最近傍法)やってみる/img04.png</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>画像は Scrapbox にインポートできないっぽいので、大した量じゃないし雑なリポジトリを作って雑にあげた:</p>
<ul>
<li><a href="https://github.com/IGGG/resources" target="_blank" rel="noopener">IGGG/resources - GitHub</a></li>
</ul>
<p>あとは画像のリンクを直すだけ(半ば手作業で)。</p>
<h3 id="MD-を-Scrapbox-にインポート"><a href="#MD-を-Scrapbox-にインポート" class="headerlink" title="MD を Scrapbox にインポート"></a>MD を Scrapbox にインポート</h3><p>参照:</p>
<ul>
<li><a href="https://scrapbox.io/help-jp/ページをインポート・エクスポートする" target="_blank" rel="noopener">ページをインポート・エクスポートする - Scrapbox ヘルプ</a></li>
</ul>
<p>MD から Scrapbox にインポートできる形式に変換するには <code>scrapbox-converter</code> という CLI ツールを使う:</p>
<ul>
<li><a href="https://github.com/pastak/scrapbox-converter" target="_blank" rel="noopener">pastak/scrapbox-converter - GitHub</a></li>
</ul>
<p>ガット変換して、試しにフォーマットして見て変な部分があれば <strong>手作業で</strong> 直してインポート！<br>やったね！</p>
<h3 id="new-iggg-org-側のリンクを修正"><a href="#new-iggg-org-側のリンクを修正" class="headerlink" title="new.iggg.org 側のリンクを修正"></a>new.iggg.org 側のリンクを修正</h3><p>一括置換してみたが記法にいくつか種類があり、<a href="https://github.com/IGGG/new.iggg.org/commit/43b90c9d1f60460f3792e34bcdfad4f4d8725d86" target="_blank" rel="noopener">半ば手作業</a>(完)</p>
<h2 id="3-コミットから自動生成"><a href="#3-コミットから自動生成" class="headerlink" title="3. コミットから自動生成"></a>3. コミットから自動生成</h2><p>せっかくなので GitHub Actions を使った。<br>その辺りは前回の記事に書いた:</p>
<ul>
<li><a href="https://iggg.github.io/2019/10/11/use-github-actions/">GitHub Actions を使ってみた｜群馬大学電子計算機研究会 IGGG</a></li>
</ul>
<h2 id="4-ドメインを-iggg-org-にする"><a href="#4-ドメインを-iggg-org-にする" class="headerlink" title="4. ドメインを iggg.org にする"></a>4. ドメインを iggg.org にする</h2><p>あとはドメインの設定を変えるだけ。<br>リポジトリの Settings で別のカスタムドメインを設定すると勝手に <a href="https://github.com/IGGG/new.iggg.org/commit/c85253722a921fade55422e1b1d20ad1819b370a" target="_blank" rel="noopener"><code>CNAME</code> をプッシュしてくれる</a>。</p>
<h2 id="おしまい"><a href="#おしまい" class="headerlink" title="おしまい"></a>おしまい</h2><p>無事管理するものを減らせたぜ。</p>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/Web/">Web</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/GitHub/">GitHub</a>, <a href="/tags/Hugo/">Hugo</a>, <a href="/tags/Scrapbox-io/">Scrapbox.io</a>
  </div>

        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



</div></div>
    <div class="clearfix"></div>
  </div>

  <footer id="footer" class="inner"></footer>
  
<script src="/js/jquery.imagesloaded.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



<script src="/js/headroom.min.and.gallery.js"></script>
<script>
$("#mini-toggle").click(function () {
    $( "#main-nav" ).css("display","inline");
    setTimeout(function(){
        $( "#main-nav" ).removeClass("slideInRight").addClass("slideOutRight");
    }, 3000);
    setTimeout(function(){
        $( "#main-nav" ).css("display","");
        $( "#main-nav" ).removeClass("slideOutRight").addClass("slideInRight");
    }, 3555);
});
</script>

<script>
$("#header").headroom({
  "tolerance": 0,
  "offset": 200,
  "classes": {
    "initial": "",
    "pinned": "slideInDown",
    "unpinned": "slideOutUp"
  }
});
$("#header").headroom("destroy");
</script>

<script>
$("a").click(function () {
    $( "#icon-photo-small"  ).removeClass( "rotateIn" ).addClass( "rotateOut" );
    $( "#icon-photo-normal" ).removeClass( "rotateIn" ).addClass( "rotateOut" );
    setTimeout(function(){
        $( "#icon-photo-small"  ).removeClass( "rotateOut" ).addClass( "rotateIn" );
        $( "#icon-photo-normal" ).removeClass( "rotateOut" ).addClass( "rotateIn" );
    }, 900);
});
</script>


<script type="text/javascript">
  var _gaq = _gaq || [];
  // 拡張リンクのアトリビューション分析用のタグをページに設定する
  var pluginUrl =
   '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-46141384-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    // ユーザー属性とインタレスト カテゴリに関するレポートを有効にする
    // ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



<!--[if lt IE 9]><script src="/js/excanvas.js"></script><![endif]-->
<script src="/js/jquery.tagcanvas.min.js"></script>
 <script type="text/javascript">
 $(document).ready(function() {
   if( ! $('#myCanvas').tagcanvas({
     textColour : '#6d6d6d',
     outlineThickness : 1,
     textHeight: 20,
     maxSpeed : 0.04,
     depth : 0.75
   })) {
     // TagCanvas failed to load
     $('#myCanvasContainer').hide();
   }
   // your other jQuery stuff here...
 });
 </script>



</body>
</html>
